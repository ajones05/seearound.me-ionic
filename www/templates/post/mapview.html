<ion-view hide-nav-bar="true" hide-back-button="true" class="mapview">
<div ng-hide="isFromProfileView" class="bar bar-header bar-positive">
        <div class="row" style="padding-top:10px;width:100%;">
            <button menu-toggle="left" ng-click="hideModal();" class="button button-icon icon-left" style="padding-left:0;padding-bottom:0;padding-top:4px;width:40px;margin-right:10px;">
              <img src="img/menu_off.png" height="20"/>
                <p class="icon-label">Menu</p>
            </button>
            <button class="col button button-icon" ng-click="goToNewPost()" style="padding-top:4px;padding-bottom:0;margin-right:6px;">
              <img src="img/newpost_off.png" height="22"/>
              <p style="margin-left:-4px;" class="icon-label">Post</p>
            </button>
            <button class="col button button-icon" ng-click="showAlerts($event)" style="padding-top:4px;padding-bottom:0;">
              <img src="img/alerts_off.png" height="22"/>
              <span ng-if="unreadAlerts > 0" class="alert-badge">{{unreadAlerts}}</span>
              <p class="icon-label">Alerts</p>
            </button>
            <button class="col button button-icon" ng-click="toggleSearch()" style="padding-top:4px;padding-bottom:0;margin-right:-4px;">
              <img ng-show="!isFiltered" src="img/search_off.png" height="22"/>
              <img ng-show="isFiltered" src="img/search_on.png" height="22"/>
                <p class="icon-label">Search</p>
            </button>
            <button class="button button-icon" ng-click="hideModal();" ui-sref="app.postlistview" style="width:60px;padding-right:0;padding-top:4px;padding-bottom:0;margin-right:-6px;">
              <img src="img/list_off.png" height="22"/>
                <p class="icon-label">List View</p>
            </button>
        </div>
    </div>    
    <div ng-show="isFromProfileView" class="bar bar-header">
        <div class="row" style="padding-top:10px">
            <button class="button button-clear" ui-sref="app.userprofile">
                <i class="icon ion-ios-arrow-left"></i>
            </button>            
        </div>
    </div>
    
  <div class="row bar bar-subheader" style="background:#eee;" ng-show="showSearch">
    <div class="col" style="margin-left:-5px;">
      <div class="row" style="border:2px solid #ddd;height:100%;background:#fff;">
        <i class="icon ion-ios-search" style="font-size:1.4em;padding-right:10px;margin:0;"></i>
        <input type="text" name="searchTerm" ng-model="searchTerm" 
               ng-focus="onSearchFocus()"               
               placeholder="Search ..." 
               style="width:100%;height:100%;background:#fff;">
      </div>
    </div>
    <div style="margin-right:5px;width:100px;">    
      <div class="item item-icon-right" style="border:2px solid #ddd;" ng-click="toggleSelect($event)">
        <label class="post-select">
          Filter
          <i style="margin-right:-10px;font-size:1.5em;" class="icon ion-ios-arrow-down"></i>
        </label>             
      </div>
    </div>
    <div class="col-20">            
          <button class="button button-block button-positive" ng-show="!isFiltered" ng-click="searchPosts()">Go</button>
          <button class="button button-block button-positive" ng-show="isFiltered" ng-click="clearSearch()">Cancel</button>
    </div>
  </div>          
  <ion-content>
    <div id="map" data-tap-disabled="true"></div>

  </ion-content>
  <div class="bar bar-footer bar-light">
    <div class="title">        
      <div class="range">
        <a ng-click="toggleFilter($event)" class="button button-clear" style="width:60px;margin-left:-10px;">Filter
          </a>
      <input type="range" name="volume" min="0.25" max="2.0" step="0.1" value="circleRadius" ng-model="circleRadius" on-release="onRadiusChange()">
        <a ng-click="resetMap()" style="width:50px;font-size:.8em;" class="button button-clear button-icon icon ion-navigate"></a>
      </div>
    </div>
  </div>
</ion-view>
